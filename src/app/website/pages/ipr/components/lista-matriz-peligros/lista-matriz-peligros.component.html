<div class="shadow">
    <p-panel styleClass="material-panel">
        <p-header >
            Matrices de peligros
        </p-header>
    
        <p-table #dt styleClass="material-table" autoLayout="true" selectionMode="single" [(selection)]="matrizSelect" [value]="matrizPList" [paginator]="true" [rows]="10" >
            <!-- dataKey="id" sortField="id" sortOrder="-1" -->
            <ng-template pTemplate="header" let-columns>
                <tr>
                    <th pSortableColumn="id">Id Matriz
                        <p-sortIcon field="id"></p-sortIcon>
                    </th>
                    <th pSortableColumn="fechaCreacion">Fecha de creación
                        <p-sortIcon field="fechaCreacion"></p-sortIcon>
                    </th>
                    <th pSortableColumn="planta">Planta
                        <p-sortIcon field="planta"></p-sortIcon>
                    </th>
                    <th pSortableColumn="area"> Área
                        <p-sortIcon field="area"></p-sortIcon>
                    </th>
                </tr>
                <tr class="filters">
                    <td class="text-center bg-light">
                        <div class="ui-inputgroup">
                            <input pInputText type="number" (input)="dt.filter($event.target.value, 'id', 'equals')">
                        </div>
                    </td>
                    <td class="text-center bg-light">
                        <div class="ui-inputgroup">
                                                    
                            <s-rangoFechaSelector (onSelect)="dt.filter($event, 'fechaCreacion', 'bt')">
                            </s-rangoFechaSelector>                      
    
                        </div>
                    </td>
                    <td *ngIf="idEmpresa!='22'" class="text-center bg-light">
                        <div class="ui-inputgroup">
                            
                            <input pInputText type="text" (input)="dt.filter($event.target.value, 'planta.nombre', 'contains')">
                        </div>
                    </td>
                    <td *ngIf="idEmpresa=='22'" class="text-center bg-light">
                        <div class="ui-inputgroup">
                            
                            <input pInputText type="text" (input)="dt.filter($event.target.value,'area')">
                        </div>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-matriz>
    
                <tr [pSelectableRow]="matriz" class="table-row table-row-selectable">
                    <td class="p-text-center">{{matriz.id}}</td>
                    <td class="p-text-center">{{'07/09/2023'}}</td>
                    <td class="p-text-center">{{matriz.plantas.nombre}}</td>
                    <td class="p-text-center">&nbsp;</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="summary" let-rowData>

                <div class="d-flex justify-content-center">
                    <div class="btn-group" role="group">                
                      <button 
                        class="p-button-raised p-button-primary margin-right" 
                        pButton type="button" 
                        icon="bi bi-plus" 
                        label="Adicionar" [routerLink]="['/app/ipr/matrizPeligros']"></button>
                      <button 
                        class="p-button-raised p-button-success margin-right margin-left" 
                        pButton type="button" 
                        icon="bi bi-pencil" 
                        label="Modificar"
                        ></button>
                      <button 
                        pButton type="button" 
                        icon="bi bi-search" 
                        label="Consultar" 
                        style="color: var(--white)"
                        class="p-button-raised p-button-warning margin-right margin-left"
                        ></button>
                    </div>
                </div>           
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="4" class="p-text-center">No hay registro de casos médicos o con los términos de filtro usados
                    </td>
                </tr>
            </ng-template>
        </p-table>
    
    
    </p-panel>
</div>

