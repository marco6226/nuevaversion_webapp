<p-confirmDialog></p-confirmDialog>
<p-toast key="formScmSL"></p-toast>
<!-- <p-messages [(value)]="msgs" ></p-messages> -->

<div class="info-container">
  <div class="info-item">
    <span class="label">Caso: No </span>SL-{{ this.iddt }}
  </div>
  <div class="info-item">
    <span class="label">Fecha de creación: </span
    >{{ this.fechaCreacion2 | date : "dd/MM/yyyy" }}
  </div>
</div>

<p-tabView>
  <p-tabPanel header="Información General" *sTienePermiso="'SCM_GET_ICSL'">
    <app-datos-trabajador-involucrado
      (updateFilterTotable)="updateFilter($event)"
      (researchFilter)="updateFilterEmpty()"
    ></app-datos-trabajador-involucrado>

    <br />

    <br />
  </p-tabPanel>
  <ng-container *ngIf="empleadoSelect || consultar">
    <p-tabPanel
      header="Casos de Salud laboral"
      *ngIf="!flagSaludLaboralRegistro"
    >
      <p-table
        *ngIf="
          !caseSelect &&
          !createCase &&
          cedulaFilter != null &&
          cedulaFilter != undefined
        "
        #dt
        styleClass="material-table"
        [value]="saludLaboralList"
        autoLayout="true"
        selectionMode="single"
        [loading]="loading"
        [(selection)]="saludLaboralSelect"
        [rows]="10"
        [paginator]="true"
        dataKey="idSl"
        [lazy]="true"
        (onLazyLoad)="lazyLoad($event)"
        [totalRecords]="totalRecords"
        (onFilter)="onFilter($event)"
      >
        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="idSl">No.</th>
            <th pSortableColumn="fechaCreacion">Fecha de creación</th>

            <th pSortableColumn="usuarioCreador">Correo Electronico</th>
            <th pSortableColumn="usuarioAsignado">Nombre</th>
            <th pSortableColumn="idSl">No. Documento</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-case>
          <tr [pSelectableRow]="case" class="table-row table-row-selectable">
            <td>{{ case.idSl }}</td>
            <td>{{ case.fechaCreacion | date : "dd/MM/yyyy" }}</td>
            <td>{{ case.usuarioCreador }}</td>
            <td>{{ case.nombreCompletoSL }}</td>
            <td>{{ case.usuarioAsignado }}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="summary" let-rowData>
          <button
            pButton
            *sTienePermiso="'SCM_PUT_CSL'"
            type="button"
            label="Modificar"
            icon="bi bi-pencil"
            class="p-button-raised p-button-success margin-right margin-left"
            (click)="openCase()"
            [disabled]="!saludLaboralSelect"
          ></button>

          <button
            pButton
            *sTienePermiso="'SCM_GET_CSL'"
            type="button"
            icon="bi bi-eye"
            label="Consultar"
            class="p-button-info margin-left margin-right"
            (click)="openCaseConsultar()"
            [disabled]="!saludLaboralSelect"
          ></button>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="5" class="p-text-center">
              No hay casos de salud laboral registrados.
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <ng-container *sTienePermiso="'SCM_GET_DCSL'">
      <p-tabPanel *ngIf="flagSaludLaboralRegistro" header="Diagnósticos">
        <div class="container-fluid cew-9">
          <div class="row">
            <h2 class="title-header p-mb-2">Información sobre diagnósticos</h2>
          </div>
          <div class="ui-g-12">
            <p-table
              #dt
              [value]="diagnosticoList"
              styleClass="material-table"
              autoLayout="true"
              selectionMode="single"
              [(selection)]="diagSelect"
              [rows]="5"
              [paginator]="true"
              dataKey="id"
              [lazy]="true"
            >
              <ng-template pTemplate="header">
                <tr>
                  <th pSortableColumn="codigoCie10">CIE 10</th>
                  <th pSortableColumn="sistemaAfectado">Sistema Afectado</th>
                  <th pSortableColumn="diagnostico">Diagnóstico</th>
                  <th pSortableColumn="detalle">Detalles</th>

                  <th pSortableColumn="fechaDiagnostico">Fecha</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-case>
                <tr
                  [pSelectableRowDisabled]="modalDianostico"
                  [pSelectableRow]="case"
                  class="table-row table-row-selectable"
                >
                  <td class="p-text-center">{{ case.codigoCie10 }}</td>
                  <td class="p-text-center">
                    {{ case.sistemaAfectado || "" }}
                  </td>
                  <td class="p-text-center">{{ case.diagnostico }}</td>
                  <td class="p-text-center">{{ case.detalle }}</td>
                  <td class="p-text-center">
                    {{ case.fechaDiagnostico | date : "dd/MM/yyyy" }}
                  </td>
                </tr>
              </ng-template>
              <ng-template pTemplate="summary" let-rowData>
                <ng-container>
                  <button
                    pButton
                    [disabled]="diagSelect"
                    type="button"
                    icon="bi bi-plus"
                    label="Crear"
                    class="p-button-raised p-button-primary margin-right"
                    (click)="diagSelect = null; modalDianostico = true"
                  ></button>
                  <button
                    pButton
                    type="button"
                    icon="bi bi-pencil"
                    label="Modificar"
                    class="p-button-raised p-button-success margin-right margin-left"
                    (click)="showModalDiagnostico()"
                    [disabled]="!diagSelect"
                  ></button>
                  <button
                    pButton
                    type="button"
                    icon="bi bi-trash"
                    label="Eliminar"
                    class="p-button-raised p-button-danger margin-right margin-left"
                    [disabled]="!diagSelect"
                    (click)="deleteDiagnostico(diagSelect.id)"
                  ></button>
                  <!-- <button pButton type="button" icon="bi bi-search" label="Consultar"
                                      class="p-button-raised p-button-warning margin-right margin-left"
                                      [disabled]="!diagSelect" (click)="showModalDiagnosticoConsulta()"></button> -->
                </ng-container>

                <!-- <ng-container><button *sTienePermiso="'SCM_PUT_CASE_DIAG'" pButton
                                      type="button" icon="bi bi-search" label="Consultar" class="p-button-warning"
                                      (click)="showModalDiagnosticoConsulta()"
                                      [disabled]="!diagSelect"></button></ng-container> -->
              </ng-template>
              <ng-template pTemplate="emptymessage">
                <tr>
                  <td colspan="6" class="p-text-center">
                    No hay registro de diagnósticos de Salud Laboral
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
      </p-tabPanel>
    </ng-container>

    <ng-container *sTienePermiso="'SCM_GET_LCPCLSL'">
      <p-tabPanel
        header="Calificación (origen -PCL)"
        *ngIf="saludLaboralSelect && this.diagnosticoList.length > 0"
      >
        <app-pcl
          [diagnosticos]="this.diagnosticoList"
          [entity]="entity"
          [emitPclentity]="emitPclentity"
          [saludLaboralFlag]="true"
          [pkCase]="saludLaboralSelect.idSl"
          [pclOptionList]="pclOptionList"
          (eventClose)="onCloseModalDianostico()"
          (dlistaPCL)="recibirPCL($event)"
        >
        </app-pcl>
      </p-tabPanel>
    </ng-container>
    <ng-container *sTienePermiso="'SCM_POST_SDCSL'">
      <p-tabPanel
        *ngIf="flagSaludLaboralRegistro"
        header="Información de la solicitud"
      >
        <p-accordion [multiple]="true">
          <form [formGroup]="empleadoForm" (ngSubmit)="onSubmit()">
            <!-- Otros campos del formulario -->

            <p-accordionTab
              header="Información de recepción de solicitud de documentación"
            >
              <div class="form-row mt-3">
                <div class="col-12">
                  <label for="fechaLimite"
                    >Fecha recepción de solicitud de documentación:</label
                  >
                  <p-calendar
                    id="fechaLimite"
                    appendTo="body"
                    [monthNavigator]="true"
                    [yearNavigator]="true"
                    [yearRange]="yearRange"
                    [maxDate]="fechaActual2"
                    formControlName="fechaRecepcionDocs"
                    dateFormat="dd/mm/yy"
                  ></p-calendar>
                </div>
                <div class="col">
                  <div class="input-field">
                    <label for="" class="active"
                      >Entidad que solicita la documentación</label
                    >
                    <p-dropdown
                      appendTo="body"
                      [filter]="true"
                      [options]="emitPclentity"
                      formControlName="entidadEmiteCalificacion"
                      class="select-material"
                      styleClass="select-material"
                      [readonly]="action"
                      (onChange)="onEntidadChange($event)"
                    >
                    </p-dropdown>
                  </div>
                </div>

                <!-- Campo de texto para "Otros" -->
                <div class="col" *ngIf="selectedEntidad === 'otros'">
                  <div class="input-field">
                    <label for="" class="active"
                      >Escriba la entidad que solicito la documentación</label
                    >
                    <input
                      type="text"
                      formControlName="otroDetalle"
                      class="form-control"
                    />
                  </div>
                </div>

                <!-- Dropdown para detalles -->
                <div class="col" *ngIf="isDetalleEnabled">
                  <div class="input-field">
                    <label for="" class="active">Entidad</label>
                    <p-dropdown
                      appendTo="body"
                      [filter]="true"
                      [options]="detalleOptions"
                      formControlName="detalleCalificacion"
                      class="select-material"
                      styleClass="select-material"
                    >
                    </p-dropdown>
                  </div>
                </div>
                <div class="col-12">
                  <label for="fechaLimite"
                    >Fecha maxima de envio para solicitud de
                    documentación:</label
                  >
                  <p-calendar
                    id="fechaLimite"
                    appendTo="body"
                    [monthNavigator]="true"
                    [yearNavigator]="true"
                    [yearRange]="yearRange"
                    [maxDate]="fechaActual2"
                    formControlName="fechaMaximaEnvDocs"
                    dateFormat="dd/mm/yy"
                  ></p-calendar>
                </div>
              </div>
            </p-accordionTab>
          </form>
          <form [formGroup]="empleadoForm" (ngSubmit)="onSubmit()">
            <p-accordionTab header="Fecha de envio documentación">
              <div class="col-12">
                <label for="fechaLimite">Fecha de envio documentación:</label>
                <p-calendar
                  id="fechaCierreCaso"
                  appendTo="body"
                  [monthNavigator]="true"
                  [yearNavigator]="true"
                  [yearRange]="yearRange"
                  [maxDate]="fechaActual2"
                  formControlName="fechaCierreCaso"
                  dateFormat="dd/mm/yy"
                ></p-calendar>
              </div>
              <div class="col">
                <div class="input-field">
                  <label for="" class="active"
                    >Entidad que solicito la documentación</label
                  >
                  <p-dropdown
                    appendTo="body"
                    [filter]="true"
                    [options]="emitPclentity"
                    formControlName="entidadEmiteCalificacion"
                    class="select-material"
                    styleClass="select-material"
                    [readonly]="true"
                    (onChange)="onEntidadChange($event)"
                  >
                  </p-dropdown>
                </div>
                <div class="col" *ngIf="selectedEntidad === 'otros'">
                  <div class="input-field">
                    <label for="" class="active"
                      >entidad que solicito la documentación</label
                    >
                    <input
                      type="text"
                      formControlName="otroDetalle"
                      class="form-control"
                    />
                  </div>
                </div>

                <!-- Dropdown para detalles -->
                <div class="col" *ngIf="isDetalleEnabled">
                  <div class="input-field">
                    <label for="" class="active"> Entidad</label>
                    <p-dropdown
                      appendTo="body"
                      [filter]="true"
                      [options]="detalleOptions"
                      formControlName="detalleCalificacion"
                      class="select-material"
                      styleClass="select-material"
                      [readonly]="true"
                    >
                    </p-dropdown>
                  </div>
                </div>
              </div>
              <app-cargue-documentos-send-documentacion
                [directoriosSendocs]="this.directoriosSendocs"
              ></app-cargue-documentos-send-documentacion>
            </p-accordionTab>
          </form>
          <form [formGroup]="empleadoForm" (ngSubmit)="onSubmit()">
            <p-accordionTab header="Fecha de notificacion del dictamen">
              <app-cargue-documentos-empresa
                [directorios]="this.directorios"
                [directoriosArl]="this.directoriosArl"
                [directoriosJr]="this.directoriosJr"
                [directoriosJn]="this.directoriosJn"
                [empleadoForm]="empleadoForm"
                (deleteDoc)="eliminarDocumentEmp($event)"
              ></app-cargue-documentos-empresa>
            </p-accordionTab>
          </form>

          <form [formGroup]="empleadoForm" (ngSubmit)="onSubmit()">
            <p-accordionTab header="Fecha de notificacion al ministerio">
              <div class="col-12">
                <label for="fechaLimite"
                  >Fecha notificacion al ministerio</label
                >
                <p-calendar
                  id="fechaNotificacionMin"
                  appendTo="body"
                  [monthNavigator]="true"
                  [yearNavigator]="true"
                  [yearRange]="yearRange"
                  [maxDate]="fechaActual2"
                  formControlName="fechaNotificacionMin"
                  dateFormat="dd/mm/yy"
                ></p-calendar>
              </div>
              <app-cargue-documentos-ministerio
                [directoriosMin]="this.directoriosMin"
              ></app-cargue-documentos-ministerio>
            </p-accordionTab>
            <div *ngIf="!consultar2">
            <button
              pButton
              *sTienePermiso="'SCM_POST_CSL'"
              (click)="onSubmit(); submitEmp()"
              type="submit"
              icon="pi pi-save"
              class="float-btn"
              style="bottom: 200px"
              title="Guardar datos info nueva"
            ></button>
          </div>
          </form>
        </p-accordion>
      </p-tabPanel>
      <p-tabPanel *ngIf="flagSaludLaboralRegistro" header="Documentación">
        <p-accordion [multiple]="true">
          <p-accordionTab header="GH Admon personal">
            <div *ngIf="flag1" class="container-fluid">
              <div class="form-row">
                <div class="col-12">
                  <label for="responsable">Responsable:</label>
                  <p-autoComplete
                    id="responsable"
                    styleClass="form-control-autocomplete"
                    placeholder="Digite"
                    [style]="{ width: '100%' }"
                    [suggestions]="empleadosList"
                    (completeMethod)="buscarEmpleado($event)"
                    (onSelect)="selectResonsable($event, 'res1')"
                    [(ngModel)]="usuarioSolicitado"
                    required
                  >
                    <ng-template let-empleado pTemplate="item">
                      <div class="ui-helper-clearfix">
                        <div class="wrapper">
                          <div class="empleado-info">
                            <br />
                            {{ empleado?.primerApellido }}
                            {{ empleado?.primerNombre }}
                            {{ empleado?.segundoNombre }}
                            <br />
                            {{ empleado?.numeroIdentificacion }}
                            <br />
                            {{ empleado?.usuario.email }}
                          </div>
                        </div>
                      </div>
                    </ng-template>
                  </p-autoComplete>
                </div>
              </div>
              <div class="form-row mt-3">
                <div class="col-12">
                  <label for="tipoDocumento"
                    >Tipo de documento a solicitar:</label
                  >
                  <p-dropdown
                    id="tipoDocumento"
                    [options]="doc"
                    [(ngModel)]="selectedDoc"
                    required
                    styleClass="select-material"
                  ></p-dropdown>
                </div>
              </div>
              <div class="form-row mt-3">
                <div class="col-12">
                  <label for="fechaLimite"
                    >Fecha límite envío de documentación:</label
                  >
                  <p-calendar
                    id="fechaLimite"
                    appendTo="body"
                    [monthNavigator]="true"
                    [yearNavigator]="true"
                    [yearRange]="yearRange"
                    [minDate]="fechaActual"
                    [formControl]="formulario.get('fechaLimite')"
                    dateFormat="dd/mm/yy"
                    required
                  ></p-calendar>
                </div>
              </div>
              <div class="form-row mt-3">
                <div class="col-12">
                  <button
                    class="btn btn-primary"
                    (click)="addEmailSendghAdmon()"
                  >
                    <i class="fas fa-save"></i> Guardar selección
                  </button>
                </div>
              </div>
              <div class="form-row mt-4">
                <div class="col-12">
                  <h5>Correos para enviar:</h5>
                  <div
                    *ngFor="let item of ghAdmonPersonal; let i = index"
                    class="form-group saved-item"
                  >
                    <div class="saved-item-content">
                      <label>Responsable:</label>
                      <p-autoComplete
                        styleClass="form-control-autocomplete"
                        placeholder="Digite"
                        [style]="{ width: '100%' }"
                        [suggestions]="empleadosList"
                        (onSelect)="
                          selectResonsableSelected($event, 'res1', item)
                        "
                        (completeMethod)="buscarEmpleado($event)"
                        [(ngModel)]="item.usuarioSolicitado"
                        [disabled]="true"
                      >
                        <ng-template let-empleado pTemplate="item">
                          <div class="ui-helper-clearfix">
                            <div class="wrapper">
                              <div class="empleado-info">
                                <br />
                                {{ empleado?.primerApellido }}
                                {{ empleado?.primerNombre }}
                                {{ empleado?.segundoNombre }}
                                <br />
                                {{ empleado?.numeroIdentificacion }}
                                <br />
                                {{ empleado?.usuario.email }}
                              </div>
                            </div>
                          </div>
                        </ng-template>
                      </p-autoComplete>
                      <label>Tipo de documento a solicitar:</label>
                      <p-dropdown
                        [options]="doc"
                        [(ngModel)]="item.docSolicitado"
                        styleClass="select-material"
                        required
                      ></p-dropdown>
                      <label>Fecha límite envío de documentación:</label>
                      <p-calendar
                        appendTo="body"
                        [monthNavigator]="true"
                        [yearNavigator]="true"
                        [yearRange]="yearRange"
                        [minDate]="fechaActual"
                        [(ngModel)]="item.fechaLimite"
                        dateFormat="dd/mm/yy"
                      ></p-calendar>
                      <div>
                        <button
                          class="btn btn-danger btn-sm mt-2"
                          (click)="removeEmail(i)"
                        >
                          <i class="fas fa-times"></i> Eliminar
                        </button>
                      </div>
                    </div>
                    <hr class="divider" />
                  </div>
                </div>
              </div>
            </div>
          </p-accordionTab>

          <p-accordionTab header="Seguridad">
            <div class="container-fluid cew-9 grid">
              <div *ngIf="flag2" class="container-fluid">
                <div class="form-row">
                  <div class="col-12">
                    <label for="responsableSeguridad">Responsable:</label>
                    <p-autoComplete
                      id="responsableSeguridad"
                      styleClass="form-control-autocomplete"
                      placeholder="Digite"
                      [style]="{ width: '100%' }"
                      [suggestions]="empleadoListSegu"
                      (completeMethod)="buscarEmpleado2($event)"
                      (onSelect)="selectResonsable($event, 'res2')"
                      [(ngModel)]="usuarioSolicitadoSeg"
                      required
                    >
                      <ng-template let-empleado pTemplate="item">
                        <div class="ui-helper-clearfix">
                          <div class="wrapper">
                            <div class="empleado-info">
                              <br />
                              {{ empleado?.primerApellido }}
                              {{ empleado?.primerNombre }}
                              {{ empleado?.segundoNombre }}
                              <br />
                              {{ empleado?.numeroIdentificacion }}
                              <br />
                              {{ empleado?.usuario.email }}
                            </div>
                          </div>
                        </div>
                      </ng-template>
                    </p-autoComplete>
                  </div>
                </div>
                <div class="form-row mt-3">
                  <div class="col-12">
                    <label for="tipoDocumentoSeguridad"
                      >Tipo de documento a solicitar:</label
                    >
                    <p-dropdown
                      id="tipoDocumentoSeguridad"
                      [options]="docSalud"
                      [(ngModel)]="selectedDocSalud"
                      required
                      styleClass="select-material"
                    ></p-dropdown>
                  </div>
                </div>
                <div class="form-row mt-3">
                  <div class="col-12">
                    <label for="fechaLimiteSeguridad"
                      >Fecha límite envío de documentación:</label
                    >
                    <p-calendar
                      id="fechaLimiteSeguridad"
                      appendTo="body"
                      [monthNavigator]="true"
                      [yearNavigator]="true"
                      [yearRange]="yearRange"
                      [minDate]="fechaActual"
                      [formControl]="formulario.get('fechaLimite')"
                      dateFormat="dd/mm/yy"
                      required
                    ></p-calendar>
                  </div>
                </div>
                <div class="form-row mt-3">
                  <div class="col-12">
                    <button
                      class="btn btn-primary"
                      (click)="addEmailSeguridad()"
                    >
                      <i class="fas fa-save"></i> Guardar selección
                    </button>
                  </div>
                </div>
                <div class="form-row mt-4">
                  <div class="col-12">
                    <h5>Correos para enviar:</h5>
                    <div
                      *ngFor="let item of seguridad; let i = index"
                      class="form-group saved-item"
                    >
                      <div class="saved-item-content">
                        <label>Responsable:</label>
                        <p-autoComplete
                          styleClass="form-control-autocomplete"
                          placeholder="Digite"
                          [style]="{ width: '100%' }"
                          [suggestions]="empleadoListSegu"
                          (onSelect)="
                            selectResonsableSelected($event, 'res2', item)
                          "
                          (completeMethod)="buscarEmpleado2($event)"
                          [(ngModel)]="item.usuarioSolicitado"
                          [disabled]="true"
                        >
                          <ng-template let-empleado pTemplate="item">
                            <div class="ui-helper-clearfix">
                              <div class="wrapper">
                                <div class="empleado-info">
                                  <br />
                                  {{ empleado?.primerApellido }}
                                  {{ empleado?.primerNombre }}
                                  {{ empleado?.segundoNombre }}
                                  <br />
                                  {{ empleado?.numeroIdentificacion }}
                                  <br />
                                  {{ empleado?.usuario.email }}
                                </div>
                              </div>
                            </div>
                          </ng-template>
                        </p-autoComplete>
                        <label>Tipo de documento a solicitar:</label>
                        <p-dropdown
                          [options]="docSalud"
                          [(ngModel)]="item.docSolicitado"
                          required
                          styleClass="select-material"
                        ></p-dropdown>
                        <label>Fecha límite envío de documentación:</label>
                        <p-calendar
                          appendTo="body"
                          [monthNavigator]="true"
                          [yearNavigator]="true"
                          [yearRange]="yearRange"
                          [minDate]="fechaActual"
                          [(ngModel)]="item.fechaLimite"
                          dateFormat="dd/mm/yy"
                        ></p-calendar>
                        <div>
                          <button
                            class="btn btn-danger btn-sm mt-2"
                            (click)="removeEmailSeg(i)"
                          >
                            <i class="fas fa-times"></i> Eliminar
                          </button>
                        </div>
                      </div>
                      <hr class="divider" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab header="Salud">
            <div class="container-fluid cew-9 grid">
              <div *ngIf="flag3" class="container-fluid">
                <div class="form-row">
                  <div class="col-12">
                    <label for="responsableSalud">Responsable:</label>
                    <p-autoComplete
                      id="responsableSalud"
                      styleClass="form-control-autocomplete"
                      placeholder="Digite"
                      [style]="{ width: '100%' }"
                      [suggestions]="empleadoListSalud"
                      (completeMethod)="buscarEmpleadoSalud($event)"
                      (onSelect)="selectResonsable($event, 'res3')"
                      [(ngModel)]="iduarioSolicitadoSalud"
                      required
                    >
                      <ng-template let-empleado pTemplate="item">
                        <div class="ui-helper-clearfix">
                          <div class="wrapper">
                            <div class="empleado-info">
                              <br />
                              {{ empleado?.primerApellido }}
                              {{ empleado?.primerNombre }}
                              {{ empleado?.segundoNombre }}
                              <br />
                              {{ empleado?.numeroIdentificacion }}
                              <br />
                              {{ empleado?.usuario.email }}
                            </div>
                          </div>
                        </div>
                      </ng-template>
                    </p-autoComplete>
                  </div>
                </div>
                <div class="form-row mt-3">
                  <div class="col-12">
                    <label for="tipoDocumentoSalud"
                      >Tipo de documento a solicitar:</label
                    >
                    <p-dropdown
                      [style]="{ width: '100%' }"
                      id="tipoDocumentoSaludLaboral"
                      [options]="docSaludLaboral"
                      [(ngModel)]="selectedDocSaludLaboral"
                      required
                    ></p-dropdown>
                  </div>
                </div>
                <div class="form-row mt-3">
                  <div class="col-12">
                    <label for="fechaLimiteSeguridad"
                      >Fecha límite envío de documentación:</label
                    >
                    <p-calendar
                      id="fechaLimiteSeguridad"
                      appendTo="body"
                      [monthNavigator]="true"
                      [yearNavigator]="true"
                      [yearRange]="yearRange"
                      [minDate]="fechaActual"
                      [formControl]="formulario.get('fechaLimite')"
                      dateFormat="dd/mm/yy"
                      required
                    ></p-calendar>
                  </div>
                </div>
                <div class="form-row mt-3">
                  <div class="col-12">
                    <button class="btn btn-primary" (click)="addEmailSalud()">
                      <i class="fas fa-save"></i> Guardar selección
                    </button>
                  </div>
                </div>
                <div class="form-row mt-4">
                  <div class="col-12">
                    <h5>Correos para enviar:</h5>
                    <div
                      *ngFor="let item of saludLaboralMail"
                      class="form-group saved-item"
                    >
                      <div class="saved-item-content">
                        <label>Responsable:</label>
                        <p-autoComplete
                          styleClass="form-control-autocomplete"
                          placeholder="Digite"
                          [style]="{ width: '100%' }"
                          [suggestions]="empleadoListSalud"
                          (onSelect)="
                            selectResonsableSelected($event, 'res3', item)
                          "
                          (completeMethod)="buscarEmpleadoSalud($event)"
                          [(ngModel)]="item.usuarioSolicitado"
                          [disabled]="true"
                        >
                          <ng-template let-empleado pTemplate="item">
                            <div class="ui-helper-clearfix">
                              <div class="wrapper">
                                <div class="empleado-info">
                                  <br />
                                  {{ empleado?.primerApellido }}
                                  {{ empleado?.primerNombre }}
                                  {{ empleado?.segundoNombre }}
                                  <br />
                                  {{ empleado?.numeroIdentificacion }}
                                  <br />
                                  {{ empleado?.usuario.email }}
                                </div>
                              </div>
                            </div>
                          </ng-template>
                        </p-autoComplete>
                        <label>Tipo de documento a solicitar:</label>
                        <p-dropdown
                          [options]="docSaludLaboral"
                          [(ngModel)]="item.docSolicitado"
                          required
                          styleClass="select-material"
                        ></p-dropdown>
                        <label>Fecha límite envío de documentación:</label>
                        <p-calendar
                          appendTo="body"
                          [monthNavigator]="true"
                          [yearNavigator]="true"
                          [yearRange]="yearRange"
                          [minDate]="fechaActual"
                          [(ngModel)]="item.fechaLimite"
                          dateFormat="dd/mm/yy"
                        ></p-calendar>
                        <div>
                          <button
                            class="btn btn-danger btn-sm mt-2"
                            (click)="removeEmailSaludL(i)"
                          >
                            <i class="fas fa-times"></i> Eliminar
                          </button>
                        </div>
                      </div>
                      <hr class="divider" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </p-accordionTab>

          <p-accordionTab header="Psicosocial">
            <div class="container-fluid cew-9 grid">
              <div *ngIf="flag3" class="container-fluid">
                <div class="form-row">
                  <div class="col-12">
                    <label for="responsablePsicosocial">Responsable:</label>
                    <p-autoComplete
                      id="responsablePsicosocial"
                      styleClass="form-control-autocomplete"
                      placeholder="Digite"
                      [style]="{ width: '100%' }"
                      [suggestions]="empeladoListPsicosocial"
                      (completeMethod)="buscarEmpleadoPsicosocial($event)"
                      (onSelect)="selectResonsable($event, 'res4')"
                      [(ngModel)]="usuarioSolicitadoPsicosocial"
                      required
                    >
                      <ng-template let-empleado pTemplate="item">
                        <div class="ui-helper-clearfix">
                          <div class="wrapper">
                            <div class="empleado-info">
                              <br />
                              {{ empleado?.primerApellido }}
                              {{ empleado?.primerNombre }}
                              {{ empleado?.segundoNombre }}
                              <br />
                              {{ empleado?.numeroIdentificacion }}
                              <br />
                              {{ empleado?.usuario.email }}
                            </div>
                          </div>
                        </div>
                      </ng-template>
                    </p-autoComplete>
                  </div>
                </div>
                <div class="form-row mt-3">
                  <div class="col-12">
                    <label for="tipoDocumentoPsicosocial"
                      >Tipo de documento a solicitar:</label
                    >
                    <p-dropdown
                      id="tipoDocumentoPsicosiscial"
                      [options]="docPsicosocial"
                      [(ngModel)]="selectedDocPsicosocial"
                      required
                      styleClass="select-material"
                    ></p-dropdown>
                  </div>
                </div>
                <div class="form-row mt-3">
                  <div class="col-12">
                    <label for="fechaLimiteSeguridad"
                      >Fecha límite envío de documentación:</label
                    >
                    <p-calendar
                      id="fechaLimiteSeguridad"
                      appendTo="body"
                      [monthNavigator]="true"
                      [yearNavigator]="true"
                      [yearRange]="yearRange"
                      [minDate]="fechaActual"
                      [formControl]="formulario.get('fechaLimite')"
                      dateFormat="dd/mm/yy"
                      required
                    ></p-calendar>
                  </div>
                </div>
                <div class="form-row mt-3">
                  <div class="col-12">
                    <button
                      class="btn btn-primary"
                      (click)="addEmailPsicosocial()"
                    >
                      <i class="fas fa-save"></i> Guardar selección
                    </button>
                  </div>
                </div>
                <div class="form-row mt-4">
                  <div class="col-12">
                    <h5>Correos para enviar:</h5>
                    <div
                      *ngFor="let item of psicosocial"
                      class="form-group saved-item"
                    >
                      <div class="saved-item-content">
                        <label>Responsable:</label>
                        <p-autoComplete
                          styleClass="form-control-autocomplete"
                          placeholder="Digite"
                          [style]="{ width: '100%' }"
                          [suggestions]="empeladoListPsicosocial"
                          (onSelect)="
                            selectResonsableSelected($event, 'res4', item)
                          "
                          (completeMethod)="buscarEmpleadoPsicosocial($event)"
                          [(ngModel)]="item.usuarioSolicitado"
                          [disabled]="true"
                        >
                          <ng-template let-empleado pTemplate="item">
                            <div class="ui-helper-clearfix">
                              <div class="wrapper">
                                <div class="empleado-info">
                                  <br />
                                  {{ empleado?.primerApellido }}
                                  {{ empleado?.primerNombre }}
                                  {{ empleado?.segundoNombre }}
                                  <br />
                                  {{ empleado?.numeroIdentificacion }}
                                  <br />
                                  {{ empleado?.usuario.email }}
                                </div>
                              </div>
                            </div>
                          </ng-template>
                        </p-autoComplete>
                        <label>Tipo de documento a solicitar:</label>
                        <p-dropdown
                          [options]="docPsicosocial"
                          [(ngModel)]="item.docSolicitado"
                          required
                          styleClass="select-material"
                        ></p-dropdown>
                        <label>Fecha límite envío de documentación:</label>
                        <p-calendar
                          appendTo="body"
                          [monthNavigator]="true"
                          [yearNavigator]="true"
                          [yearRange]="yearRange"
                          [minDate]="fechaActual"
                          [(ngModel)]="item.fechaLimite"
                          dateFormat="dd/mm/yy"
                        ></p-calendar>
                        <div>
                          <button
                            class="btn btn-danger btn-sm mt-2"
                            (click)="removeEmailPsico(i)"
                          >
                            <i class="fas fa-times"></i> Eliminar
                          </button>
                        </div>
                      </div>
                      <hr class="divider" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </p-accordionTab>
        </p-accordion>

        <!-- Botón para enviar -->
        <button
        *ngIf="!consultar2"
          pButton
          (click)="abrirModalConfirmacion()"
          type="submit"
          icon="pi pi-envelope"
          class="float-btn"
          style="bottom: 100px"
          title="Enviar Correos"
          [disabled]="isSending"
        ></button>

        <!-- Modal de confirmación -->
        <p-dialog
          header="Confirmación de Envío"
          [(visible)]="modalConfirmacionVisible"
          [modal]="true"
          [closable]="false"
          [responsive]="true"
          [style]="{ width: '40vw', 'min-width': '300px' }"
        >
          <ng-template pTemplate="content">
            <p>¿Está seguro de enviar los correos electrónicos?</p>
          </ng-template>
          <ng-template pTemplate="footer">
            <button
              type="button"
              pButton
              (click)="
                sendEmails()
              "
              label="Enviar"
              class="p-button-success"
              [disabled]="isEnviarDisabled"
            ></button>
            <button
              type="button"
              pButton
              (click)="modalConfirmacionVisible = false"
              label="Cancelar"
              class="p-button-danger"
            ></button>
          </ng-template>
        </p-dialog>
      </p-tabPanel>
    </ng-container>

    <ng-container *sTienePermiso="'SCM_GET_DSR'">
      <p-tabPanel
        header="Documentación Solicitada al responsable"
        *ngIf="flagSaludLaboralRegistro"
      >
        <p-table
          #dt
          [value]="documentacionList"
          autoLayout="true"
          selectionMode="single"
          [(selection)]="documentacionSelectSolicitado"
          [rows]="30"
          [paginator]="true"
          dataKey="id"
          [lazy]="true"
        >
          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="fechaSolicitud">Fecha de solicitud</th>
              <th pSortableColumn="asignacionTarea">Asignación de tareas</th>
              <th pSortableColumn="docSolicitado">
                Listado de documentos solicitados
              </th>
              <th pSortableColumn="responsable">Responsable</th>
              <th pSortableColumn="fechaLimite">
                Fecha límite envío de documentación
              </th>
              <th pSortableColumn="fechaEnvio">
                Fecha de envío de documentación
              </th>
              <th pSortableColumn="estadoCorreo">Estado</th>
              <th>Documento</th>
              <th pSortableColumn="razonRechazoSolicitado">Razón de rechazo</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-case>
            <tr [pSelectableRow]="case" class="table-row table-row-selectable">
              <td>{{ case.fechaSolicitud | date : "dd/MM/yyyy" }}</td>
              <td>{{ case.asignacionTarea }}</td>
              <td>
                <p>{{ case.docSolicitado }}</p>
              </td>
              <td>{{ case.usuarioSolicitado }}</td>
              <td>{{ case.fechaLimite | date : "dd/MM/yyyy" }}</td>
              <td>{{ case.fechaEnvio | date : "dd/MM/yyyy" }}</td>
              <td>{{ convertirEstadoCorreoUser(case.estadoCorreo) }}</td>
              <td>
                <!-- <button
            pButton
            type="button"
            icon="pi pi-download"
            title="Descargar documento"
            class="p-button-info margin-left margin-right"
          ></button> -->
                <div class="ui-g" style="margin-top: 10px">
                  <div class="ui-g-12 ui-sm-12 ui-md-10">
                    <div *ngFor="let doc of directorios">
                      <table
                        class="caption-top"
                        *ngIf="
                          doc?.documento?.proceso ===
                          'cargaDocumentosSL' + case.id
                        "
                      >
                        <p>Soportes para Descargar:</p>

                        <tbody>
                          <tr>
                            <td>
                              <button
                              type="button"
                              class="btn btn-outline-primary"
                              (click)="descargarDocumento(doc?.documento??'')"
                              [ngClass]="{
                                'btn-selected': documentacionSelectSolicitado?.id === case.id
                              }"
                              >
                              {{ doc?.documento?.descripcion}}
                              
                              </button
                            >
                              
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </td>
              <td>{{ case.razonRechazoSolicitado }}</td>
            </tr>
          </ng-template>
          <ng-template pTemplate="summary" let-rowData>
            <div class="button-container">
              <div *ngIf="!consultar2">
                <button
                  *sTienePermiso="'SCM_POST_RDS'"
                  pButton
                  type="button"
                  icon="bi bi-check"
                  label="Aprobar"
                  class="p-button-info margin-left margin-right"
                  (click)="onEditState(documentacionSelectSolicitado.id)"
                ></button>
              </div>
              <div *ngIf="!consultar2">
                <button
                  *sTienePermiso="'SCM_POST_ADS'"
                  pButton
                  type="button"
                  icon="bi bi-x"
                  label="Rechazar"
                  class="p-button-danger margin-left margin-right"
                  (click)="dialogRechazoFlagSolicitante = true; getSelectedSoli()"
                ></button>
              </div>
            </div>
          </ng-template>
          
          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="9" class="p-text-center">
                No hay documentación solicitada.
              </td>
            </tr>
          </ng-template>
        </p-table>

        <!--hasta aca va la parte del solicitante-->
      </p-tabPanel>
    </ng-container>

    <ng-container *sTienePermiso="'SCM_GET_DQSR'">
      <p-tabPanel
        header="Documentación Solicitada"
        *ngIf="flagSaludLaboralRegistro"
      >
        <p-table
          #dt
          [value]="documentacionListUser"
          autoLayout="true"
          selectionMode="single"
          [(selection)]="documentacionSelectUser"
          [rows]="100"
          [paginator]="true"
          dataKey="id"
          [lazy]="true"
        >
          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="fechaSolicitud">Fecha de solicitud</th>
              <th pSortableColumn="asignacionTarea">Asignación de tareas</th>
              <th pSortableColumn="listadoDocSolicitados">
                Listado de documentos solicitados
              </th>
              <th pSortableColumn="solicitante">Solicitante</th>
              <th pSortableColumn="UsuarioSolicitado">Trabajador Solicitado</th>
              <th pSortableColumn="fechaLimiteEnvioDoc">
                Fecha limite envío de documentación
              </th>
              <th pSortableColumn="fechaEnvioDoc">
                Fecha de envío de documentación
              </th>
              <th pSortableColumn="estado">Estado</th>
              <th pSortableColumn="razonRechazoSolicitante">Motivo Rechazo</th>
              <th>Documento</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-docsub>
            <tr
              [pSelectableRow]="docsub"
              class="table-row table-row-selectable"
            >
              <td>{{ docsub.fechaSolicitud | date : "dd/MM/yyyy" }}</td>
              <td>{{ docsub.asignacionTarea }}</td>
              <td>
                <p>{{ docsub.docSolicitado }}</p>
              </td>
              <td>
                {{ docsub.soliictanteNombres }} - {{ docsub.solicitanteCedula }}
              </td>
              <td>
                {{ docsub.solicitadoNombres }}- {{ docsub.solicitadoCedula }}
              </td>
              <td
              [class.fechaProxima]="
                isFechaLimiteProxima(docsub.fechaLimite) === 'proximo' &&
                docsub.estadoCorreo !== 3
              "
              [class.fechaVencida]="
                isFechaLimiteProxima(docsub.fechaLimite) === 'vencido' &&
                docsub.estadoCorreo !== 3
              "
            >
              {{ docsub.fechaLimite | date : "dd/MM/yyyy" }}
              <br />
              <span
                *ngIf="
                  isFechaLimiteProxima(docsub.fechaLimite) === 'proximo' &&
                  docsub.estadoCorreo !== 3
                "
                class="mensaje-proximo"
                >Próximo a vencer</span
              >
              <span
                *ngIf="
                  isFechaLimiteProxima(docsub.fechaLimite) === 'vencido' &&
                  docsub.estadoCorreo !== 3
                "
                class="mensaje-vencido"
                >Vencido</span
              >
            </td>

              <td>{{ docsub.fechaEnvio | date : "dd/MM/yyyy" }}</td>
              <td>{{ convertirEstadoCorreo(docsub.estadoCorreo) }}</td>
              <td>{{ docsub.razonRechazoSolicitante }}</td>
              <td>
                <ng-container>
                  <button
                    pButton
                    type="button"
                    icon="bi bi-upload"
                    title="Subir documento"
                    class="p-button-info margin-left margin-right"
                    (click)="openUploadDialog(docsub.id, docsub.documentos)"
                    [disabled]="documentacionSelectUser?.id !== docsub.id"
                    [ngClass]="{
                      'btn-selected': documentacionSelectUser?.id === docsub.id
                    }"
                  ></button>
                </ng-container>
                <s-documentoUpload
                  [privadoCheck]="false"
                  [(visible)]="flagDoc"
                  [modParam]="selectedDocId"
                  [modulo]="modulo"
                  [tipoEvidencia]="'cargaDocumentosSL' + selectedDocId"
                  (onUpload)="onUpload($event)"
                >
                </s-documentoUpload>
                <div class="ui-g" style="margin-top: 10px">
                  <div class="ui-g-12 ui-sm-12 ui-md-10">
                    <div *ngFor="let doc of directorios">
                      <table
                        class="caption-top"
                        *ngIf="
                          doc?.documento?.proceso ===
                          'cargaDocumentosSL' + docsub.id
                        "
                      >
                        <p>Soportes:</p>
                        <thead>
                          <tr>
                            <th scope="col">Descripción</th>
                            <th scope="col">Opciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>
                              <span class="document-name">{{
                                doc.documento.descripcion
                              }}</span>
                            </td>
                            <td>
                              <a>&nbsp;</a>
                              <button
                                type="button"
                                class="btn btn-outline-danger"
                                title="Eliminar documento"
                                (click)="eliminarDocument(doc)"
                                [disabled]="documentacionSelectUser?.id !== docsub.id"

                              >
                                <span class="pi pi-trash"></span>
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="summary" let-rowData>
            <!-- <button
            pButton
            type="button"
            icon="bi bi-search"
            label="Consultar trazabilidad"
            class="p-button-info margin-left margin-right"
            [disabled]="!documentacionSelectUser"
            (click)="dialogTrazabilidadFlag = true"
          ></button> -->
          <div *ngIf="!consultar2">
            <button
              pButton
              type="button"
              icon="bi bi-x"
              label="Rechazar"
              class="p-button-danger margin-left margin-right"
              [disabled]="!documentacionSelectUser"
              (click)="dialogRechazoFlag = true; getSelectedId()"
            ></button>
          </div>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="9" class="p-text-center">
                No hay documentación solicitada.
              </td>
            </tr>
          </ng-template>
        </p-table>
      </p-tabPanel>
    </ng-container>
  </ng-container>
</p-tabView>

<p-dialog
  [header]="!diagSelect ? 'Crear Diagnóstico' : 'Editar Diagnóstico'"
  [(visible)]="modalDianostico"
  [modal]="true"
  [closable]="false"
  [draggable]="false"
  [resizable]="false"
  [responsive]="true"
  [style]="{ width: '50vw' }"
>
  <app-diagnostico-form
    *ngIf="saludLaboralSelect"
    [diagSelect]="diagSelect"
    [saludLaboralFlag]="true"
    [id]="saludLaboralSelect.pkUser"
    [caseId]="saludLaboralSelect.idSl"
    (eventClose)="onCloseModalDianostico()"
    (closeModal)="closeModalDiagnostico()"
  >
  </app-diagnostico-form>
</p-dialog>

<p-dialog
  [header]="'Rechazo documentación'"
  [(visible)]="dialogRechazoFlag"
  [modal]="true"
  [closable]="false"
  [draggable]="false"
  [resizable]="false"
  [responsive]="true"
  [style]="{ width: '50vw' }"
>
  <div class="grid">
    <div class="col-12">Detalle del porque se rechaza:</div>
    <div class="col-12">
      <textarea
        name="motivoRechazo"
        [(ngModel)]="motivoRechazo"
        cols="30"
        rows="10"
      ></textarea>
    </div>
    <div class="col-12">
      <button
        pButton
        type="button"
        icon="bi bi-check-lg"
        label="Aceptar"
        class="p-button-primary margin-left margin-right"
        (click)="putmail()"
      ></button>
      <button
        pButton
        type="button"
        icon="bi bi-x"
        label="Cancelar"
        class="p-button-danger margin-left margin-right"
        (click)="dialogRechazoFlag = false"
      ></button>
    </div>
  </div>
</p-dialog>
<p-dialog
  [header]="'Rechazo documentación'"
  [(visible)]="dialogRechazoFlagSolicitante"
  [modal]="true"
  [closable]="false"
  [draggable]="false"
  [resizable]="false"
  [responsive]="true"
  [style]="{ width: '50vw' }"
>
  <div class="grid">
    <div class="col-12">Detalle del porqué se rechaza:</div>
    <div class="col-12">
      <textarea
        name="motivoRechazoSolicitante"
        [(ngModel)]="motivoRechazoSolicitante"
        required
        cols="30"
        rows="10"
      ></textarea>
    </div>
    <div class="col-12">
      <label for="fechaLimite">Fecha Límite:</label>
      <p-calendar
        id="fechaLimite"
        [(ngModel)]="fechaLimite"
        required
        dateFormat="dd/mm/yy"
        appendTo="body"
        [monthNavigator]="true"
        [yearNavigator]="true"
        [yearRange]="'2020:2030'"
      ></p-calendar>
    </div>
    <div class="col-12">
      <button
        pButton
        type="button"
        icon="bi bi-check-lg"
        label="Aceptar"
        class="p-button-primary margin-left margin-right"
        (click)="putmailSoliictante()"
      ></button>
      <button
        pButton
        type="button"
        icon="bi bi-x"
        label="Cancelar"
        class="p-button-danger margin-left margin-right"
        (click)="dialogRechazoFlagSolicitante = false"
      ></button>
    </div>
  </div>
</p-dialog>

<p-dialog
  [header]="'Trazabilidad'"
  [(visible)]="dialogTrazabilidadFlag"
  [modal]="true"
  [closable]="true"
  [draggable]="false"
  [resizable]="false"
  [responsive]="true"
  [style]="{ width: '50vw' }"
>
  <div class="grid" style="margin: auto">
    <p-table
      #dt
      [value]="trazabilidadList"
      autoLayout="true"
      selectionMode="single"
      [(selection)]="trazabilidadSelect"
      [rows]="10"
      [paginator]="true"
      dataKey="id"
      [lazy]="true"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="accion">Acción</th>
          <th pSortableColumn="fecha">fecha & Hora</th>
          <th pSortableColumn="observacion">Observación</th>
          <th pSortableColumn="usuario">Usario que realizo</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-traz>
        <tr [pSelectableRow]="traz" class="table-row table-row-selectable">
          <td>{{ traz.accion }}</td>
          <td>{{ traz.fecha | date : "dd/MM/yyyy" }}</td>
          <td>{{ traz.observacion }}</td>
          <td>{{ traz.usuario }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="4" class="p-text-center">
            No hay trazabilidad en este documento.
          </td>
        </tr>
      </ng-template>
    </p-table>
    <div class="col-12">
      <button
        pButton
        type="button"
        icon="bi bi-x"
        label="Cerrar"
        class="p-button-danger margin-left margin-right"
        (click)="dialogTrazabilidadFlag = false"
      ></button>
    </div>
  </div>
</p-dialog>

<!-- <p-dialog
  [header]="'Crear cargo actual'"
  [(visible)]="flagDialogCargoActual"
  [modal]="true"
  [closable]="true"
  [draggable]="false"
  [resizable]="false"
  [responsive]="true"
  [style]="{ width: '50vw' }"
>
  <div class="grid">
    <div class="col-12">
      <h1>Nombre del cargo actual nuevo</h1>
    </div>
    <div class="col-12">
      <input
        type="text"
        (input)="onInput($event.target.value)"
        [(ngModel)]="selectedItem"
        class="autocomplete-input"
      />
      <ul *ngIf="filteredSuggestions.length > 0" class="autocomplete-list">
        <li
          *ngFor="let suggestion of filteredSuggestions"
          (click)="onSelect(suggestion)"
          class="autocomplete-item"
        >
          {{ suggestion }}
        </li>
      </ul>
    </div>

    <div class="col-12" style="display: flex">
      <button
        pButton
        type="button"
        icon="bi bi-pencil"
        label="Crear"
        class="p-button-info margin-left margin-right"
        (click)="crearCargoActual()"
      ></button>
      <button
        pButton
        type="button"
        icon="bi bi-x"
        label="Cerrar"
        class="p-button-danger margin-left margin-right"
        (click)="flagDialogCargoActual = false; cargoActual = ''"
      ></button>
    </div>
  </div>
</p-dialog> -->
<a style="visibility: hidden" id="dwldLink"></a>
