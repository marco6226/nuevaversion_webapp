<p-toast key="segForm"></p-toast>
<div class="">
    <div class="">
        <form [formGroup]="seguimientogenerico">



            <div class="row">
                <div class="col">
                    <div class="input-field" style="height: 30px;">
                        <label for="" class="active">Fecha de seguimiento</label>
                        <p-calendar [touchUI]="true" [monthNavigator]="true" [touchUI]="true" showButtonBar="true"
                            [yearNavigator]="true" yearRange="2010:2030" formControlName="fechaSeg" dateFormat="dd/mm/yy"
                            placeholder="dd/MM/yyyy">
                        </p-calendar>
                    </div>
                </div>                

                <div class="col">
                    <div class="input-field">
                        <label for="" class="active">Seguimiento</label>
                        <textarea formControlName="seguimiento" class="textarea-material" pInputTextarea
                            rows="2"></textarea>
                    </div>

                </div>
                <div class="col">
                    <div class="input-field">
                        <label for="" class="active">Tarea</label>
                        <textarea formControlName="tarea" class="textarea-material" pInputTextarea rows="2"></textarea>
                    </div>

                </div>
            </div>                

            <div class="row">
                
                <div class="col">
                    <div class="input-field" style="height: 30px;">
                        <label for="" class="active">Responsable Empresa</label>
                        <p-autoComplete styleClass="form-material-autocomplete" #autocomplete placeholder="Digite"
                            [style]="{'width':'100%'}" (onSelect)="responsable = $event" [suggestions]="empleadosList"
                            (completeMethod)="buscarEmpleado($event)" field="numeroIdentificacion"
                            formControlName="responsable" *ngIf="empleado?.id == null">
                            <ng-template let-empleado pTemplate="item">
                                <div class="ui-helper-clearfix">
                                    <div class="wrapper">
                                        <i *ngIf="!empleado.usuario?.icon" class="fa fa-user-circle"
                                            style="font-size: 48px;" aria-hidden="true"></i>
                                        <img *ngIf="empleado.usuario?.icon" [src]="empleado.usuario?.icon"
                                            style="border-radius: 50%;" #imgAvatar />
                                        <div style="margin-left:20px">
                                            <label>{{empleado?.primerApellido}}
                                                {{empleado?.primerNombre}}
                                                {{empleado?.segundoNombre}}
                                            </label>
                                            <br /> {{empleado?.numeroIdentificacion}}
                                            <br /> {{empleado?.usuario.email}}
                                        </div>
                                    </div>
                                </div>

                            </ng-template>
                        </p-autoComplete>
                    </div>

                </div>
                <div class="col">
                    <div class="input-field">
                        <label for="" class="active">Responsable Externo </label>
                        <input formControlName="responsableExterno" style="height: 30px;">
                    </div>
                </div>
                <div class="col">
                    <div class="input-field">
                        <label for="" class="active">Resultado</label>
                        <input formControlName="resultado" style="height: 30px;">
                    </div>
                </div>




            </div>



        </form>
    </div>

    <div class="col p-pt-3">
        <button *sTienePermiso="'SCM_POST_CASE_SEG_GENERIC'" 
            pButton type="button"
            [label]="(seguiSelect) ? 'Actualizar' : 'Guardar'" 
            icon="bi bi-save" 
            class="p-button-raised p-button-primary margin-right"
            (click)="onSubmit()">

        </button>
    </div>
</div>